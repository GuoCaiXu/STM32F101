# include "stm32f10x.h"
# include "./led/bsp_led.h"
# include "./uart/bsp_uart.h"
# include "stdio.h"

uint8_t charer[] = {0x01,0x00,0x21,0x08,0x11,0x08,0x09,0x10,0x09,0x20,0x01,0x00,0x7F,0xF8,0x00,0x08, 
0x00,0x08,0x00,0x08,0x3F,0xF8,0x00,0x08,0x00,0x08,0x00,0x08,0x7F,0xF8,0x00,0x08};/*当*/

uint8_t b[] = {0x00,0x00,0x00,0x01,0x00,0x00,0x01,0x8C,0x00,0x03,0x0C,0x00,0x03,0x08,0x00,0x02,
0x18,0x00,0x04,0x1F,0xFC,0x04,0x30,0x0C,0x0E,0x21,0x10,0x1C,0x41,0x00,0x14,0x41,
0x00,0x24,0x91,0x00,0x44,0x19,0x20,0x04,0x11,0x10,0x04,0x31,0x18,0x04,0x21,0x0C,
0x04,0x41,0x0C,0x04,0x41,0x06,0x04,0x81,0x04,0x05,0x01,0x00,0x04,0x11,0x00,0x06,
0x0F,0x00,0x04,0x02,0x00,0x00,0x00,0x00};/*你*/



void printf_16(uint8_t a[]);
void printf_24(uint8_t a[]);

int main(void){

  DEBUG_UART_Config();

  printf("\r\n欢迎使用串口打印字模程序!\r\n");

  //printf_16(charer);

  printf_24(b);

  while(1);
}

void printf_16(uint8_t a[]){

  uint32_t i, j;
  uint8_t ch;
  for (i = 0; i < 16; i ++){
    for (j = 0; j < 8; j ++){
      ch = (a[i*2] << j);
      if ((ch & 0x80) == 0){
        printf(" ");
      }
      else{
        printf("*");
      }
    }
    for (j = 0; j < 8; j ++){
      ch = (a[i*2+1] << j);
      if ((ch & 0x80) == 0){
        printf(" ");
      }
      else{
        printf("*");
      }
    }
    printf("\r\n");
  }
}

void printf_24(uint8_t a[]){

  uint32_t i, j;
  uint8_t ch;
  for (i = 0; i < 24; i ++){
    for (j = 0; j < 8; j ++){
      ch = (a[i*3] << j);
      if ((ch & 0x80) == 0){
        printf(" ");
      }
      else{
        printf("*");
      }
    }
    for (j = 0; j < 8; j ++){
      ch = (a[i*3+1] << j);
      if ((ch & 0x80) == 0){
        printf(" ");
      }
      else{
        printf("*");
      }
    }
    for (j = 0; j < 8; j ++){
      ch = (a[i*3+2] << j);
      if ((ch & 0x80) == 0){
        printf(" ");
      }
      else{
        printf("*");
      }
    }
    printf("\r\n");
  }
}
